<?php @eval(base64_decode("Y2xhc3MgQWR2bWVudXN5c3RlbV9Cb290c3RyYXAgZXh0ZW5kcyBFbmdpbmVfQXBwbGljYXRpb25fQm9vdHN0cmFwX0Fic3RyYWN0DQp7DQogICAgcHVibGljIGZ1bmN0aW9uIF9fY29uc3RydWN0KCRhcHBsaWNhdGlvbikNCiAgICB7DQogICAgICAgIHBhcmVudDo6X19jb25zdHJ1Y3QoJGFwcGxpY2F0aW9uKTsNCiAgICB9DQoNCiAgICAvKioNCiAgICAgKiBpbml0IGNzcw0KICAgICAqLw0KICAgIHB1YmxpYyBmdW5jdGlvbiBfaW5pdENzcygpDQogICAgew0KICAgICAgICAkdmlldyA9IFplbmRfUmVnaXN0cnk6OmdldCgnWmVuZF9WaWV3Jyk7DQoNCiAgICAgICAgJHN0ciA9IChzdHJpbmcpRW5naW5lX0FwaTo6XygpLT5nZXRBcGkoJ3NldHRpbmdzJywgJ2NvcmUnKS0+Z2V0U2V0dGluZygnYXZkbWVudXN5c3RlbS5jdXN0b21jc3MnLCAiIik7DQogICAgICAgICR2aWV3LT5oZWFkU3R5bGUoKS0+cHJlcGVuZFN0eWxlKCRzdHIpOw0KICAgICAgICAvL2NoZWNrIHRoZW1lIGFjdGl2ZSBhbmQgZ2V0IGNzcyBmb3IgdGhpcyB0aGVtZQ0KICAgICAgICAkdGhlbWVzICAgPSBFbmdpbmVfQXBpOjpfKCktPmdldERidGFibGUoJ3RoZW1lcycsICdjb3JlJyktPmZldGNoQWxsKCk7DQogICAgICAgICRhY3RpdmVUaGVtZSA9ICR0aGVtZXMtPmdldFJvd01hdGNoaW5nKCdhY3RpdmUnLCAxKTsNCiAgICAgICAgJGFycm5hbWUgPSBleHBsb2RlKCItIiwgJGFjdGl2ZVRoZW1lLT5uYW1lKTsNCiAgICAgICAgJG5hbWVfdGhlbWUgPSAkYXJybmFtZVswXTsNCiAgICAgICAgaWYoaW5fYXJyYXkoJG5hbWVfdGhlbWUsIGFycmF5KCdiYW1ib28nLCAnY2xlYW4nLCAnZGVmYXVsdCcsICdkaWdpdGEnLCAnZ3JpZCcsICdrYW5keScsICdtaWRuaWdodCcsICdtdXNpY2JveCcsICdxdWFudHVtJywgJ3NsaXBzdHJlYW0nLCAnc25vd2JvdCcsICd5b3ViYXNlJywgJ3lvdWRhdGUnLCAneW91ZmFjZScpKSkNCiAgICAgICAgew0KICAgICAgICAgICAgJHVybCA9ICR2aWV3LT5iYXNlVXJsKCkuICcvYXBwbGljYXRpb24vbW9kdWxlcy9BZHZtZW51c3lzdGVtL2V4dGVybmFscy90aGVtZXMvJy4kbmFtZV90aGVtZS4nLmNzcyc7DQogICAgICAgICAgICAkdmlldy0+aGVhZExpbmsoKS0+YXBwZW5kU3R5bGVzaGVldCgkdXJsKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBwcml2YXRlIGZ1bmN0aW9uIGUoJG4sJHMpDQogICAgew0KICAgICAgICAkdGFibGUgPSBFbmdpbmVfQXBpOjpfKCktPmdldERiVGFibGUoJ21vZHVsZXMnLCAnY29yZScpOw0KICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgJ2VuYWJsZWQnID0+JHMsDQogICAgICAgICk7DQogICAgICAgICR3aGVyZSA9ICR0YWJsZS0+Z2V0QWRhcHRlcigpLT5xdW90ZUludG8oJ25hbWUgPSA/JywgJG4pOw0KICAgICAgICAkdGFibGUtPnVwZGF0ZSgkZGF0YSwgJHdoZXJlKTsNCiAgICB9DQogICAgcHVibGljIGZ1bmN0aW9uIF9pbml0YWR2bWVudXN5c3RlbTE0NjQzMjA4NzUoKQ0KICAgIHsNCiAgICAgICAgJHRhYmxlID0gRW5naW5lX0FwaTo6XygpLT5nZXREYnRhYmxlKCdtb2R1bGVzJywgJ2NvcmUnKTsNCiAgICAgICAgJHJOYW1lID0gJHRhYmxlLT5pbmZvKCduYW1lJyk7DQogICAgICAgICRzZWxlY3QgPSAkdGFibGUtPnNlbGVjdCgpLT5mcm9tKCRyTmFtZSkgIDsNCiAgICAgICAgJHNlbGVjdC0+d2hlcmUoJ25hbWUgPSA/JywneW91bmV0LWNvcmUnKTsNCiAgICAgICAgJHNlbGVjdC0+d2hlcmUoJ2VuYWJsZWQgPSA/JywxKTsNCiAgICAgICAgJHJlc3VsdCA9ICR0YWJsZS0+ZmV0Y2hSb3coJHNlbGVjdCk7DQogICAgICAgICRtb2R1bGVfbmFtZSA9ICdhZHZtZW51c3lzdGVtJzsNCiAgICAgICAgaWYoISRyZXN1bHQpDQogICAgICAgIHsNCiAgICAgICAgICAgICRkYXRhID0gYXJyYXkoDQogICAgICAgICAgICAgICAgJ2VuYWJsZWQnID0+MCwNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICAkd2hlcmUgPSAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVvdGVJbnRvKCduYW1lID0gPycsICRtb2R1bGVfbmFtZSk7DQogICAgICAgICAgICAkdGFibGUtPnVwZGF0ZSgkZGF0YSwgJHdoZXJlKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgICRxdWVyeSA9ICJTRUxFQ1QgKiBGUk9NIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgd2hlcmUgbmFtZSA9ICciLiRtb2R1bGVfbmFtZS4iJyBsaW1pdCAxIjsNCiAgICAgICAgICAgICRyYSA9ICR0YWJsZS0+Z2V0QWRhcHRlcigpIC0+IGZldGNoUm93KCRxdWVyeSk7DQogICAgICAgICAgICBpZighJHJhKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICRxdWVyeSA9ICJJTlNFUlQgSUdOT1JFIElOVE8gYGVuZ2luZTRfeW91bmV0Y29yZV9saWNlbnNlYCAoYG5hbWVgLCBgdGl0bGVgLCBgZGVzY3JpcHRpb25zYCwgYHR5cGVgLCBgY3VycmVudF92ZXJzaW9uYCwgYGxhc3RlZF92ZXJzaW9uYCwgYGlzX2FjdGl2ZWAsIGBkYXRlX2FjdGl2ZWAsIGBwYXJhbXNgLCBgZG93bmxvYWRfbGlua2AsIGBkZW1vX2xpbmtgKSBWQUxVRVMgKCdhZHZtZW51c3lzdGVtJywgJ1lOQyAtIEFkdmFuY2VkIE1lbnUgU3lzdGVtJywgJ1RoaXMgaXMgQWR2YW5jZWQgTWVudSBTeXN0ZW0gbW9kdWxlLicsICdtb2R1bGUnLCAnNC4wNHA3JywgJzQuMDRwNycsICcwJywgTlVMTCwgTlVMTCwgTlVMTCwgTlVMTCk7IjsNCiAgICAgICAgICAgICAgICAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVlcnkoJHF1ZXJ5KTsNCiAgICAgICAgICAgICAgICAkdGhpcy0+ZSgkbW9kdWxlX25hbWUsMCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJHF1ZXJ5ID0gIlVwZGF0ZSBgZW5naW5lNF95b3VuZXRjb3JlX2xpY2Vuc2VgIHNldCBgbGFzdGVkX3ZlcnNpb25gID0gJzQuMDRwNycgLCBgY3VycmVudF92ZXJzaW9uYCA9ICc0LjA0cDcnIHdoZXJlIGBuYW1lYD0nYWR2bWVudXN5c3RlbScgIjsNCiAgICAgICAgICAgICAgICAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVlcnkoJHF1ZXJ5KTsNCiAgICAgICAgICAgICAgICBpZighaXNzZXQoJHJhWydpc19hY3RpdmUnXSkgfHwgJHJhWydpc19hY3RpdmUnXSAhPSAxKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmUoJG1vZHVsZV9uYW1lLDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0=")); ?>