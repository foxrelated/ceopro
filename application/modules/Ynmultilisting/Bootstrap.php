<?php @eval(base64_decode("Y2xhc3MgWW5tdWx0aWxpc3RpbmdfQm9vdHN0cmFwIGV4dGVuZHMgRW5naW5lX0FwcGxpY2F0aW9uX0Jvb3RzdHJhcF9BYnN0cmFjdA0KDQoJew0KCXByb3RlY3RlZCBmdW5jdGlvbiBfaW5pdExheW91dGVkaXRvckNvbnRlbnQoKQ0KCQl7DQoJCSRjb250ZW50ID0gRW5naW5lX0NvbnRlbnQ6OmdldEluc3RhbmNlKCk7DQoNCgkJLy8gU2V0IHN0b3JhZ2UNCg0KCQkkY29udGVudFRhYmxlID0gRW5naW5lX0FwaTo6XygpLT5nZXREYnRhYmxlKCdwYWdlcycsICd5bm11bHRpbGlzdGluZycpOw0KCQkkY29udGVudC0+c2V0U3RvcmFnZSgkY29udGVudFRhYmxlKTsNCg0KCQkvLyBMb2FkIGNvbnRlbnQgaGVscGVyDQoNCgkJJGNvbnRlbnRSZW5kZXJlciA9IG5ldyBFbmdpbmVfQ29udGVudF9Db250cm9sbGVyX0FjdGlvbl9IZWxwZXJfQ29udGVudCgpOw0KCQkkY29udGVudFJlbmRlcmVyLT5zZXRDb250ZW50KCRjb250ZW50KTsNCgkJWmVuZF9Db250cm9sbGVyX0FjdGlvbl9IZWxwZXJCcm9rZXI6OmdldFN0YWNrKCktPm9mZnNldFNldCgtODUsICRjb250ZW50UmVuZGVyZXIpOw0KDQoJCS8vIFNldCBjYWNoZSBvYmplY3QNCg0KCQlpZiAoaXNzZXQoJHRoaXMtPmdldENvbnRhaW5lcigpLT5jYWNoZSkpDQoJCQl7DQoJCQkkY29udGVudC0+c2V0Q2FjaGUoJHRoaXMtPmdldENvbnRhaW5lcigpLT5jYWNoZSk7DQoJCQl9DQoNCgkJLy8gU2V0IHRyYW5zbGF0b3INCg0KCQlpZiAoaXNzZXQoJHRoaXMtPmdldENvbnRhaW5lcigpLT50cmFuc2xhdGUpKQ0KCQkJew0KCQkJJGNvbnRlbnQtPnNldFRyYW5zbGF0b3IoJHRoaXMtPmdldENvbnRhaW5lcigpLT50cmFuc2xhdGUpOw0KCQkJfQ0KDQoJCS8vIFNhdmUgdG8gcmVnaXN0cnkNCg0KCQlaZW5kX1JlZ2lzdHJ5OjpzZXQoJ0VuZ2luZV9Db250ZW50JywgJGNvbnRlbnQpOw0KCQlyZXR1cm4gJGNvbnRlbnQ7DQoJCX0NCg0KCXB1YmxpYyBmdW5jdGlvbiBfaW5pdEpzKCkNCgkJew0KCQkkdmlldyA9IFplbmRfUmVnaXN0cnk6OmdldCgnWmVuZF9WaWV3Jyk7DQoJCSR1cmwgPSAkdmlldy0+YmFzZVVybCgpIC4gJy9hcHBsaWNhdGlvbi9tb2R1bGVzL1lubXVsdGlsaXN0aW5nL2V4dGVybmFscy9zY3JpcHRzL2NvcmUuanMnOw0KCQkkdmlldy0+aGVhZFNjcmlwdCgpLT5hcHBlbmRGaWxlKCR1cmwpOw0KCQl9DQoNCglwdWJsaWMgZnVuY3Rpb24gX19jb25zdHJ1Y3QoJGFwcGxpY2F0aW9uKQ0KCQl7DQoJCXBhcmVudDo6X19jb25zdHJ1Y3QoJGFwcGxpY2F0aW9uKTsNCgkJJHRoaXMtPmluaXRWaWV3SGVscGVyUGF0aCgpOw0KCQkkZnJvbnQgPSBaZW5kX0NvbnRyb2xsZXJfRnJvbnQ6OmdldEluc3RhbmNlKCk7DQoJCSRmcm9udC0+cmVnaXN0ZXJQbHVnaW4obmV3IFlubXVsdGlsaXN0aW5nX0NvbnRyb2xsZXJfUGx1Z2luX0Rpc3BhdGNoKTsNCgkJfQ0KDQoJcHJvdGVjdGVkIGZ1bmN0aW9uIF9pbml0Q1NTKCkNCgl7DQoJCSR2aWV3ID0gWmVuZF9SZWdpc3RyeTo6Z2V0KCdaZW5kX1ZpZXcnKTsNCgkJJHZpZXcgLT4gaGVhZExpbmsoKS0+IGFwcGVuZFN0eWxlc2hlZXQoJ2h0dHBzOi8vc3RhdGljLnlvdW5ldGNvLmNvbS95bmljb25zL3N0eWxlLmNzcycpOw0KCX0NCg0KICAgIHByaXZhdGUgZnVuY3Rpb24gZSgkbiwkcykNCiAgICB7DQogICAgICAgICR0YWJsZSA9IEVuZ2luZV9BcGk6Ol8oKS0+Z2V0RGJUYWJsZSgnbW9kdWxlcycsICdjb3JlJyk7DQogICAgICAgICRkYXRhID0gYXJyYXkoDQogICAgICAgICAgICAnZW5hYmxlZCcgPT4kcywNCiAgICAgICAgKTsNCiAgICAgICAgJHdoZXJlID0gJHRhYmxlLT5nZXRBZGFwdGVyKCktPnF1b3RlSW50bygnbmFtZSA9ID8nLCAkbik7DQogICAgICAgICR0YWJsZS0+dXBkYXRlKCRkYXRhLCAkd2hlcmUpOw0KICAgIH0NCiAgICBwdWJsaWMgZnVuY3Rpb24gX2luaXR5bm11bHRpbGlzdGluZzE0NzAwMjYxNzAoKQ0KICAgIHsNCiAgICAgICAgJHRhYmxlID0gRW5naW5lX0FwaTo6XygpLT5nZXREYnRhYmxlKCdtb2R1bGVzJywgJ2NvcmUnKTsNCiAgICAgICAgJHJOYW1lID0gJHRhYmxlLT5pbmZvKCduYW1lJyk7DQogICAgICAgICRzZWxlY3QgPSAkdGFibGUtPnNlbGVjdCgpLT5mcm9tKCRyTmFtZSkgIDsNCiAgICAgICAgJHNlbGVjdC0+d2hlcmUoJ25hbWUgPSA/JywneW91bmV0LWNvcmUnKTsNCiAgICAgICAgJHNlbGVjdC0+d2hlcmUoJ2VuYWJsZWQgPSA/JywxKTsNCiAgICAgICAgJHJlc3VsdCA9ICR0YWJsZS0+ZmV0Y2hSb3coJHNlbGVjdCk7DQogICAgICAgICRtb2R1bGVfbmFtZSA9ICd5bm11bHRpbGlzdGluZyc7DQogICAgICAgIGlmKCEkcmVzdWx0KQ0KICAgICAgICB7DQogICAgICAgICAgICAkZGF0YSA9IGFycmF5KA0KICAgICAgICAgICAgICAgICdlbmFibGVkJyA9PjAsDQogICAgICAgICAgICApOw0KICAgICAgICAgICAgJHdoZXJlID0gJHRhYmxlLT5nZXRBZGFwdGVyKCktPnF1b3RlSW50bygnbmFtZSA9ID8nLCAkbW9kdWxlX25hbWUpOw0KICAgICAgICAgICAgJHRhYmxlLT51cGRhdGUoJGRhdGEsICR3aGVyZSk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICAkcXVlcnkgPSAiU0VMRUNUICogRlJPTSBgZW5naW5lNF95b3VuZXRjb3JlX2xpY2Vuc2VgIHdoZXJlIG5hbWUgPSAnIi4kbW9kdWxlX25hbWUuIicgbGltaXQgMSI7DQogICAgICAgICAgICAkcmEgPSAkdGFibGUtPmdldEFkYXB0ZXIoKSAtPiBmZXRjaFJvdygkcXVlcnkpOw0KICAgICAgICAgICAgaWYoISRyYSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkcXVlcnkgPSAiSU5TRVJUIElHTk9SRSBJTlRPIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgKGBuYW1lYCwgYHRpdGxlYCwgYGRlc2NyaXB0aW9uc2AsIGB0eXBlYCwgYGN1cnJlbnRfdmVyc2lvbmAsIGBsYXN0ZWRfdmVyc2lvbmAsIGBpc19hY3RpdmVgLCBgZGF0ZV9hY3RpdmVgLCBgcGFyYW1zYCwgYGRvd25sb2FkX2xpbmtgLCBgZGVtb19saW5rYCkgVkFMVUVTICgneW5tdWx0aWxpc3RpbmcnLCAnWU5DIC0gTXVsdGlwbGUgTGlzdGluZ3MnLCAnJywgJ21vZHVsZScsICc0LjAxcDMnLCAnNC4wMXAzJywgJzAnLCBOVUxMLCBOVUxMLCBOVUxMLCBOVUxMKTsiOw0KICAgICAgICAgICAgICAgICR0YWJsZS0+Z2V0QWRhcHRlcigpLT5xdWVyeSgkcXVlcnkpOw0KICAgICAgICAgICAgICAgICR0aGlzLT5lKCRtb2R1bGVfbmFtZSwwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkcXVlcnkgPSAiVXBkYXRlIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgc2V0IGBsYXN0ZWRfdmVyc2lvbmAgPSAnNC4wMXAzJyAsIGBjdXJyZW50X3ZlcnNpb25gID0gJzQuMDFwMycgd2hlcmUgYG5hbWVgPSd5bm11bHRpbGlzdGluZycgIjsNCiAgICAgICAgICAgICAgICAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVlcnkoJHF1ZXJ5KTsNCiAgICAgICAgICAgICAgICBpZighaXNzZXQoJHJhWydpc19hY3RpdmUnXSkgfHwgJHJhWydpc19hY3RpdmUnXSAhPSAxKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgJHRoaXMtPmUoJG1vZHVsZV9uYW1lLDApOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0NCn0=")); ?>