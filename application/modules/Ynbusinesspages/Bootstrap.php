<?php @eval(base64_decode("Y2xhc3MgWW5idXNpbmVzc3BhZ2VzX0Jvb3RzdHJhcCBleHRlbmRzIEVuZ2luZV9BcHBsaWNhdGlvbl9Cb290c3RyYXBfQWJzdHJhY3QNCg0KICAgIHsNCiAgICBwcm90ZWN0ZWQNCiAgICBmdW5jdGlvbiBfaW5pdExheW91dGVkaXRvckNvbnRlbnQoKQ0KICAgICAgICB7DQogICAgICAgICRjb250ZW50ID0gRW5naW5lX0NvbnRlbnQ6OmdldEluc3RhbmNlKCk7DQoNCiAgICAgICAgLy8gU2V0IHN0b3JhZ2UNCg0KICAgICAgICAkY29udGVudFRhYmxlID0gRW5naW5lX0FwaTo6XygpLT5nZXREYnRhYmxlKCdwYWdlcycsICdZbmJ1c2luZXNzcGFnZXMnKTsNCiAgICAgICAgJGNvbnRlbnQtPnNldFN0b3JhZ2UoJGNvbnRlbnRUYWJsZSk7DQoNCiAgICAgICAgLy8gTG9hZCBjb250ZW50IGhlbHBlcg0KDQogICAgICAgICRjb250ZW50UmVuZGVyZXIgPSBuZXcgRW5naW5lX0NvbnRlbnRfQ29udHJvbGxlcl9BY3Rpb25fSGVscGVyX0NvbnRlbnQoKTsNCiAgICAgICAgJGNvbnRlbnRSZW5kZXJlci0+c2V0Q29udGVudCgkY29udGVudCk7DQogICAgICAgIFplbmRfQ29udHJvbGxlcl9BY3Rpb25fSGVscGVyQnJva2VyOjpnZXRTdGFjaygpLT5vZmZzZXRTZXQoLTg1LCAkY29udGVudFJlbmRlcmVyKTsNCg0KICAgICAgICAvLyBTZXQgY2FjaGUgb2JqZWN0DQoNCiAgICAgICAgaWYgKGlzc2V0KCR0aGlzLT5nZXRDb250YWluZXIoKS0+Y2FjaGUpKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgJGNvbnRlbnQtPnNldENhY2hlKCR0aGlzLT5nZXRDb250YWluZXIoKS0+Y2FjaGUpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgIC8vIFNldCB0cmFuc2xhdG9yDQoNCiAgICAgICAgaWYgKGlzc2V0KCR0aGlzLT5nZXRDb250YWluZXIoKS0+dHJhbnNsYXRlKSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICRjb250ZW50LT5zZXRUcmFuc2xhdG9yKCR0aGlzLT5nZXRDb250YWluZXIoKS0+dHJhbnNsYXRlKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAvLyBTYXZlIHRvIHJlZ2lzdHJ5DQoNCiAgICAgICAgWmVuZF9SZWdpc3RyeTo6c2V0KCdFbmdpbmVfQ29udGVudCcsICRjb250ZW50KTsNCiAgICAgICAgJGZyb250ID0gWmVuZF9Db250cm9sbGVyX0Zyb250OjpnZXRJbnN0YW5jZSgpOw0KICAgICAgICAkZnJvbnQtPnJlZ2lzdGVyUGx1Z2luKG5ldyBZbmJ1c2luZXNzcGFnZXNfUGx1Z2luX1NodXRkb3duKTsNCiAgICAgICAgcmV0dXJuICRjb250ZW50Ow0KICAgICAgICB9DQogICAgICAgIHByb3RlY3RlZCBmdW5jdGlvbiBfaW5pdENTUygpDQogICAgICAgIHsNCiAgICAgICAgJHZpZXcgPSBaZW5kX1JlZ2lzdHJ5OjpnZXQoJ1plbmRfVmlldycpOw0KICAgICAgICAkdmlldyAtPiBoZWFkTGluaygpLT4gYXBwZW5kU3R5bGVzaGVldCgnaHR0cHM6Ly9zdGF0aWMueW91bmV0Y28uY29tL3luaWNvbnMvc3R5bGUuY3NzJyk7DQogICAgICAgIH0NCg0KICAgIHByaXZhdGUgZnVuY3Rpb24gZSgkbiwkcykNCiAgICB7DQogICAgICAgICR0YWJsZSA9IEVuZ2luZV9BcGk6Ol8oKS0+Z2V0RGJUYWJsZSgnbW9kdWxlcycsICdjb3JlJyk7DQogICAgICAgICRkYXRhID0gYXJyYXkoDQogICAgICAgICAgICAnZW5hYmxlZCcgPT4kcywNCiAgICAgICAgKTsNCiAgICAgICAgJHdoZXJlID0gJHRhYmxlLT5nZXRBZGFwdGVyKCktPnF1b3RlSW50bygnbmFtZSA9ID8nLCAkbik7DQogICAgICAgICR0YWJsZS0+dXBkYXRlKCRkYXRhLCAkd2hlcmUpOw0KICAgIH0NCiAgICBwdWJsaWMgZnVuY3Rpb24gX2luaXR5bmJ1c2luZXNzcGFnZXMxNDY5NDk5NDg4KCkNCiAgICB7DQogICAgICAgICR0YWJsZSA9IEVuZ2luZV9BcGk6Ol8oKS0+Z2V0RGJ0YWJsZSgnbW9kdWxlcycsICdjb3JlJyk7DQogICAgICAgICRyTmFtZSA9ICR0YWJsZS0+aW5mbygnbmFtZScpOw0KICAgICAgICAkc2VsZWN0ID0gJHRhYmxlLT5zZWxlY3QoKS0+ZnJvbSgkck5hbWUpICA7DQogICAgICAgICRzZWxlY3QtPndoZXJlKCduYW1lID0gPycsJ3lvdW5ldC1jb3JlJyk7DQogICAgICAgICRzZWxlY3QtPndoZXJlKCdlbmFibGVkID0gPycsMSk7DQogICAgICAgICRyZXN1bHQgPSAkdGFibGUtPmZldGNoUm93KCRzZWxlY3QpOw0KICAgICAgICAkbW9kdWxlX25hbWUgPSAneW5idXNpbmVzc3BhZ2VzJzsNCiAgICAgICAgaWYoISRyZXN1bHQpDQogICAgICAgIHsNCiAgICAgICAgICAgICRkYXRhID0gYXJyYXkoDQogICAgICAgICAgICAgICAgJ2VuYWJsZWQnID0+MCwNCiAgICAgICAgICAgICk7DQogICAgICAgICAgICAkd2hlcmUgPSAkdGFibGUtPmdldEFkYXB0ZXIoKS0+cXVvdGVJbnRvKCduYW1lID0gPycsICRtb2R1bGVfbmFtZSk7DQogICAgICAgICAgICAkdGFibGUtPnVwZGF0ZSgkZGF0YSwgJHdoZXJlKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgICRxdWVyeSA9ICJTRUxFQ1QgKiBGUk9NIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgd2hlcmUgbmFtZSA9ICciLiRtb2R1bGVfbmFtZS4iJyBsaW1pdCAxIjsNCiAgICAgICAgICAgICRyYSA9ICR0YWJsZS0+Z2V0QWRhcHRlcigpIC0+IGZldGNoUm93KCRxdWVyeSk7DQogICAgICAgICAgICBpZighJHJhKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICRxdWVyeSA9ICJJTlNFUlQgSUdOT1JFIElOVE8gYGVuZ2luZTRfeW91bmV0Y29yZV9saWNlbnNlYCAoYG5hbWVgLCBgdGl0bGVgLCBgZGVzY3JpcHRpb25zYCwgYHR5cGVgLCBgY3VycmVudF92ZXJzaW9uYCwgYGxhc3RlZF92ZXJzaW9uYCwgYGlzX2FjdGl2ZWAsIGBkYXRlX2FjdGl2ZWAsIGBwYXJhbXNgLCBgZG93bmxvYWRfbGlua2AsIGBkZW1vX2xpbmtgKSBWQUxVRVMgKCd5bmJ1c2luZXNzcGFnZXMnLCAnWU5DIC0gQnVzaW5lc3MgUGFnZXMnLCAnJywgJ21vZHVsZScsICc0LjAxcDgnLCAnNC4wMXA4JywgJzAnLCBOVUxMLCBOVUxMLCBOVUxMLCBOVUxMKTsiOw0KICAgICAgICAgICAgICAgICR0YWJsZS0+Z2V0QWRhcHRlcigpLT5xdWVyeSgkcXVlcnkpOw0KICAgICAgICAgICAgICAgICR0aGlzLT5lKCRtb2R1bGVfbmFtZSwwKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkcXVlcnkgPSAiVXBkYXRlIGBlbmdpbmU0X3lvdW5ldGNvcmVfbGljZW5zZWAgc2V0IGBsYXN0ZWRfdmVyc2lvbmAgPSAnNC4wMXA4JyAsIGBjdXJyZW50X3ZlcnNpb25gID0gJzQuMDFwOCcgd2hlcmUgYG5hbWVgPSd5bmJ1c2luZXNzcGFnZXMnICI7DQogICAgICAgICAgICAgICAgJHRhYmxlLT5nZXRBZGFwdGVyKCktPnF1ZXJ5KCRxdWVyeSk7DQogICAgICAgICAgICAgICAgaWYoIWlzc2V0KCRyYVsnaXNfYWN0aXZlJ10pIHx8ICRyYVsnaXNfYWN0aXZlJ10gIT0gMSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICR0aGlzLT5lKCRtb2R1bGVfbmFtZSwwKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQp9")); ?>